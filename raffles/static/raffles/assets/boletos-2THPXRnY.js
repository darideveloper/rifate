import{A as te}from"./aos-BcB2iz9S.js";document.addEventListener("DOMContentLoaded",()=>{te.init({duration:1e3,once:!0,offset:100});const P=document.getElementById("navToggle"),K=document.querySelector(".nav__list"),z=document.querySelector(".hamburger");P&&P.addEventListener("click",()=>{K.classList.toggle("active"),z.classList.toggle("active")});const l=200,u=1e3,S=10,b=document.getElementById("ticketGrid"),N=document.getElementById("prevPage"),M=document.getElementById("nextPage"),x=document.getElementById("currentPage"),v=document.getElementById("totalPages"),f=document.getElementById("ticketModal"),w=document.getElementById("modalClose"),A=document.getElementById("selectedTicketNumber"),k=document.getElementById("reservationForm"),g=document.getElementById("confirmationModal"),$=document.getElementById("confirmationClose"),D=document.getElementById("confirmedTicketNumber"),V=document.getElementById("confirmationDoneBtn"),h=document.getElementById("ticketSearch"),_=document.getElementById("searchBtn"),y=document.getElementById("filterSelect"),I=document.getElementById("apartarBtn"),F=document.getElementById("selectedTicketsCount"),R=document.getElementById("selectedTicketsTotal");let r=1;const q=Math.ceil(u/l);let E={},T=[],d=!1,c=new Set;H(),C(),s(),U();function H(){for(let e=1;e<=u;e++){const t=Math.random();let n="available";t<.1?n="sold":t<.2&&(n="reserved"),E[e]={number:e,status:n}}}function C(){if(d){const e=Math.ceil(T.length/l)||1;return v&&(v.textContent=e),e}else return v&&(v.textContent=q),q}function s(){if(!b)return;b.innerHTML="";let e,t,n;if(d)t=(r-1)*l,n=Math.min(t+l,T.length),e=T.slice(t,n);else{const o=(r-1)*l+1,i=Math.min(o+l-1,u);e=[];for(let a=o;a<=i;a++)e.push(E[a])}e.forEach(o=>{const i=document.createElement("div");i.className=`ticket ticket--${o.status}`,c.has(o.number)&&i.classList.add("ticket--selected"),i.dataset.number=o.number,i.textContent=o.number,o.status==="available"&&i.addEventListener("click",()=>J(o.number)),b.appendChild(i)}),x&&(x.textContent=r),G()}function J(e){c.has(e)?c.delete(e):c.add(e),s(),G()}function G(){const e=c.size,t=e*S;F&&(F.textContent=e),R&&(R.textContent=t),I&&(I.disabled=e===0)}function Q(){if(!f)return;const t=c.size*S,n=Array.from(c).sort((o,i)=>o-i).join(", ");A&&(A.innerHTML=`
        <span style="color: #1a1c40">${n}</span><br>
        <span class="total-price">Total a pagar: $${t}</span>
      `),f.classList.add("active"),O()}function U(){N&&N.addEventListener("click",()=>{r>1&&(r--,s())}),M&&M.addEventListener("click",()=>{const e=C();r<e&&(r++,s())}),w&&w.addEventListener("click",B),k&&k.addEventListener("submit",W),$&&$.addEventListener("click",p),V&&V.addEventListener("click",p),_&&_.addEventListener("click",j),h&&h.addEventListener("keypress",e=>{e.key==="Enter"&&j()}),y&&y.addEventListener("change",Z),I&&I.addEventListener("click",Q),window.addEventListener("click",e=>{e.target===f&&B(),e.target===g&&p()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&(B(),p())})}function B(){f&&f.classList.remove("active"),k&&k.reset()}function W(e){e.preventDefault(),O();const t=document.getElementById("fullName").value.trim(),n=document.getElementById("city").value.trim(),o=document.getElementById("phoneNumber").value.trim(),i=document.getElementById("userEmail").value.trim();let a=!0;t||(m("fullNameError","Por favor ingresa tu nombre completo"),a=!1),n||(m("cityError","Por favor ingresa tu ciudad"),a=!1),o?X(o)||(m("phoneNumberError","Ingresa un número telefónico válido"),a=!1):m("phoneNumberError","Por favor ingresa tu número telefónico"),i?Y(i)||(m("userEmailError","Ingresa un correo electrónico válido"),a=!1):m("userEmailError","Por favor ingresa tu correo electrónico"),a&&(c.forEach(L=>{E[L]&&(E[L].status="reserved")}),D&&(D.textContent=Array.from(c).sort((L,ee)=>L-ee).join(", ")),B(),g&&g.classList.add("active"))}function p(){g&&g.classList.remove("active"),c.clear(),s()}function O(){document.querySelectorAll(".error-message").forEach(t=>{t.textContent=""})}function m(e,t){const n=document.getElementById(e);n&&(n.textContent=t)}function X(e){return/^\d{10,15}$/.test(e.replace(/[\s-()]/g,""))}function Y(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function j(){if(!h)return;const e=h.value.trim();if(!e){d=!1,r=1,s();return}if(!isNaN(e)&&e>0&&e<=u){const t=parseInt(e);r=Math.ceil(t/l),d=!1,s(),setTimeout(()=>{const n=document.querySelector(`.ticket[data-number="${t}"]`);n&&(n.classList.add("ticket--highlight"),n.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{n.classList.remove("ticket--highlight")},3e3))},100)}else alert("Por favor ingresa un número de boleto válido entre 1 y "+u)}function Z(){if(!y)return;const e=y.value;if(e==="all"){d=!1,r=1,s();return}T=Object.values(E).filter(t=>t.status===e),d=!0,r=1,C(),s()}});
